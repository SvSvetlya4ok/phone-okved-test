# Phone → OKVED matcher

Небольшая CLI-утилита для нормализации российского мобильного номера и
поиска кода ОКВЭД с максимальным совпадением по окончанию номера.

Задание выполнено в рамках тестового задания.

---

## Возможности

- принимает номер телефона в любом формате
- нормализует номер к виду `+79XXXXXXXXX`
- загружает `okved.json` по HTTPS
- ищет ОКВЭД с максимальным совпадением по окончанию номера
- при ошибке возвращает `false` и описание ошибки

---

## Требования

- Python 3.10+
- доступ в интернет

---

## Установка и запуск

```bash
git clone https://github.com/<your-username>/phone-okved-test.git
cd phone-okved-test

python3 -m venv .venv
source .venv/bin/activate

export OKVED_URL="https://raw.githubusercontent.com/bergstar/testcase/master/okved.json"
python3 -m src.main "8 (999) 123-45-67"
```

---

## Пример вывода

```json
{
  "normalized_phone": "+79991234567",
  "okved": {
    "code": "10.86.7",
    "name": "Производство воды питьевой, напитков безалкогольных для детского питания"
  },
  "match_len": 2
}
```

---

## Алгоритм

1. Из входного текста извлекаются все цифры и номер нормализуется до формата `+79XXXXXXXXX`
2. Файл `okved.json` загружается по HTTPS и разворачивается в плоский список кодов
3. Для каждого кода ОКВЭД сравнивается цифровая часть с окончанием номера телефона
4. Выбирается код с максимальной длиной совпадения

Если совпадений нет, применяется резервная стратегия —
возвращается первый элемент справочника с длиной совпадения `0`.

## Документация

Код задокументирован с использованием Google Python Docstring Style
(на русском языке).